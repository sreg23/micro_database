<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Growth Conditions</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Microorganisms Database</h1>
  </header>

  <nav>
    <a href="index.html" class="homebtn">Home</a>
    <a href="strains.html">Strains</a>
    <a href="species.html">Species</a>
    <a href="strainTypes.html">Strain Types</a>
    <a href="freezerLocations.html">Freezer Locations</a>
    <a href="freezerRecords.html">Freezer Records</a>
    <a href="growthConditions.html" class="active">Growth Conditions</a>
    <a href="growthRecords.html">Strain Growth Records</a>
  </nav>

  <main>
    <section>
      <h2>Growth Conditions</h2>

      <!-- Growth Conditions Table -->
      <table>
        <thead>
          <tr>
            <th>Actions</th>
            <th>ID</th>
            <th>Temperature (°C)</th>
            <th>Medium</th>
            <th>Humidity (%)</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <button onclick="editCondition(1, '37.00', 'LB Broth', '60.00', 'Optimal for bacterial growth')">Edit</button>
              <button onclick="confirmDelete(1)">Delete</button>
            </td>
            <td>1</td><td>37.00</td><td>LB Broth</td><td>60.00</td><td>Optimal for bacterial growth</td>
          </tr>
          <tr>
            <td>
              <button onclick="editCondition(2, '30.00', 'Nutrient Agar', '', 'Used for sporulation studies')">Edit</button>
              <button onclick="confirmDelete(2)">Delete</button>
            </td>
            <td>2</td><td>30.00</td><td>Nutrient Agar</td><td>-</td><td>Used for sporulation studies</td>
          </tr>
        </tbody>
      </table>

      <hr>

      <!-- Add Growth Condition Form -->
      <form id="addForm">
        <fieldset>
          <legend><strong>Add Growth Condition</strong></legend>
          <label>Temperature (°C):</label><input type="number" step="0.01" name="temperature" required placeholder="e.g., 37.00">
          <label>Medium:</label><input type="text" name="medium" required placeholder="e.g., LB Broth">
          <label>Humidity (%):</label><input type="number" step="0.01" name="humidity" placeholder="Optional">
          <label>Notes:</label><textarea name="notes" placeholder="Enter notes"></textarea>
        </fieldset>
        <input type="submit" value="Add">
        <input type="reset" value="Clear">
      </form>

      <hr>

      <!-- Update Growth Condition Form -->
      <form id="updateForm" style="display:none;">
        <fieldset>
          <legend><strong>Update Growth Condition</strong></legend>
          <input type="hidden" name="conditionId">
          <label>Temperature (°C):</label><input type="number" step="0.01" name="temperature" required>
          <label>Medium:</label><input type="text" name="medium" required>
          <label>Humidity (%):</label><input type="number" step="0.01" name="humidity">
          <label>Notes:</label><textarea name="notes"></textarea>
        </fieldset>
        <input type="submit" value="Update">
        <input type="button" value="Cancel" onclick="toggleUpdateForm(false)">
      </form>
    </section>
  </main>

  <footer>Winter 2025</footer>

  <script>
    // Highlight Active Navigation
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('nav a').forEach(link => {
        if (link.href.endsWith(window.location.pathname)) link.classList.add('active');
      });
    });

    // Edit Function - Pre-fill Update Form
    function editCondition(id, temperature, medium, humidity, notes) {
      const form = document.getElementById('updateForm');
      form.style.display = 'block';
      form.conditionId.value = id;
      form.temperature.value = temperature;
      form.medium.value = medium;
      form.humidity.value = humidity || '';
      form.notes.value = notes || '';
      window.scrollTo({ top: form.offsetTop, behavior: 'smooth' });
    }

    // Hide Update Form
    function toggleUpdateForm(show) {
      document.getElementById('updateForm').style.display = show ? 'block' : 'none';
    }

    // Confirm Delete
    function confirmDelete(id) {
      if (confirm(`Are you sure you want to delete growth condition with ID: ${id}?`)) {
        // Will Add deletion logic here 
        alert(`Deleted growth condition with ID: ${id}`);
      }
    }
  </script>
</body>
</html>
